ymaps.ready(init);

function init() {
  const map = new ymaps.Map(
    "map",
    {
      center: [43.118136, 131.92137],
      zoom: 18.5,
      controls: [],
      yandexMapType: "future_map",
    },
    // type: null,
    {
      restrictMapArea: [
        [43.115, 131.92],
        [43.119, 131.926],
      ],
    }
  );

  const first_zone = [
    [43.118432, 131.920995],
    [43.118426, 131.920987],
    [43.118413, 131.920983],
    [43.118385, 131.920865],
    [43.118394, 131.92084],
    [43.118397, 131.920819],
    [43.118358, 131.920654],
    [43.118347, 131.920638],
    [43.118339, 131.920634],
    [43.118284, 131.920636],
    [43.118282, 131.92061],
    [43.118189, 131.920609],
    [43.11814, 131.920731],
    [43.118162, 131.920754],
    [43.118162, 131.920754],
    [43.118185, 131.920799],
    [43.118192, 131.920835],
    [43.118192, 131.920835],
    [43.118177, 131.9209],
    [43.118149, 131.920937],
    [43.118132, 131.920943],
    [43.118093, 131.920937],
    [43.118004, 131.92106],
    [43.117878, 131.921258],
    [43.117757, 131.921525],
    [43.117641, 131.921858],
    [43.117587, 131.922009],
    [43.117574, 131.922062],
    [43.117565, 131.922131],
    [43.117565, 131.922131],
    [43.117551, 131.922482],
    [43.117709, 131.923608],
    [43.117852, 131.92344],
    [43.11786, 131.923438],
    [43.117891, 131.923489],
    [43.118702, 131.923397],
    [43.118715, 131.923358],
    [43.118708, 131.923318],
    [43.118693, 131.923291],
    [43.118667, 131.922952],
    [43.11867, 131.922955],
    [43.118673, 131.922952],
    [43.118677, 131.922824],
    [43.118669, 131.922706],
    [43.118666, 131.922704],
    [43.118663, 131.92263],
    [43.118666, 131.922627],
    [43.118645, 131.922205],
    [43.118642, 131.922203],
    [43.118615, 131.922206],
    [43.118615, 131.922185],
    [43.118581, 131.921658],
    [43.118594, 131.921655],
    [43.118604, 131.921653],
    [43.118604, 131.921653],
    [43.118621, 131.921567],
    [43.118591, 131.921506],
    [43.118552, 131.921411],
    [43.118486, 131.921254],
    [43.118432, 131.920995],
  ];

  const second_zone = [
    [43.117891, 131.923489],
    [43.11786, 131.923438],
    [43.117852, 131.92344],
    [43.117709, 131.923608],
    [43.117644, 131.923625],
    [43.117506, 131.923677],
    [43.11738, 131.92333],
    [43.117355, 131.923206],
    [43.117118, 131.92327],
    [43.116943, 131.923305],
    [43.116919, 131.923302],
    [43.1169, 131.923281],
    [43.11689, 131.923248],
    [43.116887, 131.923134],
    [43.116547, 131.923205],
    [43.116488, 131.923457],
    [43.116488, 131.923467],
    [43.116655, 131.924224],
    [43.117088, 131.924745],
    [43.117659, 131.924601],
    [43.11777, 131.92446],
    [43.11777, 131.924455],
    [43.117767, 131.924412],
    [43.117772, 131.924368],
    [43.117787, 131.924318],
    [43.117819, 131.924066],
    [43.117831, 131.923971],
    [43.117891, 131.923489],
  ];

  const third_zone = [
    [43.116873452016385, 131.92321885797813],
    [43.1168813118634, 131.92313297082208],
    [43.116877381939894, 131.92304708366603],
    [43.116834152781294, 131.92298266829903],
    [43.11677520392866, 131.92293435677377],
    [43.116747694464095, 131.9228377337232],
    [43.11673197477006, 131.92274647861993],
    [43.116724114923045, 131.92265522351664],
    [43.11669660545848, 131.92257470430786],
    [43.11663372668234, 131.9225586004661],
    [43.11657870775321, 131.92260691199138],
    [43.11651582897707, 131.92263375172763],
    [43.11645295020093, 131.9226015440441],
    [43.11641365096584, 131.92252639278257],
    [43.11637042180724, 131.9224566094683],
    [43.11630361310759, 131.92246197741557],
    [43.116248594178465, 131.92251028894083],
    [43.116189645325825, 131.92255323251885],
    [43.11613069647319, 131.9225908081496],
    [43.11606388777354, 131.92261227993862],
    [43.1160010089974, 131.92263911967487],
    [43.11593813022125, 131.92266595941115],
    [43.11587525144511, 131.9226927991474],
    [43.11581237266897, 131.92272500683092],
    [43.115757353739845, 131.92277868630345],
    [43.11571019465774, 131.9228377337232],
    [43.11568661511668, 131.922918252932],
    [43.11568268519317, 131.92300414008804],
    [43.11570233481072, 131.92309539519132],
    [43.115714124581245, 131.92318128234734],
    [43.11573377419879, 131.9232671695034],
    [43.11576914351037, 131.92334232076493],
    [43.11581630259248, 131.9234013681847],
    [43.11585953175108, 131.9234657835517],
    [43.11589883098617, 131.923535566866],
    [43.11593813022125, 131.92360535018028],
    [43.11598135937985, 131.92367513349456],
    [43.116040308232485, 131.92371807707258],
    [43.116099257085125, 131.9237502847561],
    [43.116162135861266, 131.9237717565451],
    [43.11622501463741, 131.9237932283341],
    [43.11629182333706, 131.9238147001231],
    [43.116354702113206, 131.92383617191211],
    [43.116425440736364, 131.9238737475429],
    [43.116484389589, 131.9239166911209],
    [43.11653940851812, 131.92396500264618],
    [43.11659442744725, 131.92401331417145],
    [43.11664944637637, 131.92405625774947],
    [43.11665337629988, 131.92397037059342],
    [43.116637656605846, 131.92387911549014],
    [43.11662193691181, 131.9237932283341],
    [43.11659442744725, 131.92370734117807],
    [43.11655905813567, 131.9236268219693],
    [43.11651189905356, 131.9235463027605],
    [43.11648045966549, 131.9234657835517],
    [43.11648045966549, 131.92337452844842],
    [43.11651975890058, 131.92330474513415],
    [43.116574777829705, 131.92325643360888],
    [43.116637656605846, 131.92321349003086],
    [43.11670053538199, 131.92319738618912],
    [43.116763414158136, 131.92319201824185],
    [43.116830222857786, 131.92319201824185],
  ];

  const parkPolygon1 = new ymaps.Polygon(
    [first_zone],
    {},
    {
      fillColor: "rgba(205, 236, 178, 1)",
      strokeColor: "#008000",
      strokeWidth: 2,
    }
  );
  map.geoObjects.add(parkPolygon1);

  const parkPolygon2 = new ymaps.Polygon(
    [second_zone],
    {},
    {
      fillColor: "rgba(205, 236, 178, 1)",
      strokeColor: "#008000",
      strokeWidth: 2,
    }
  );
  map.geoObjects.add(parkPolygon2);

  const parkPolygon3 = new ymaps.Polygon(
    [third_zone],
    {},
    {
      fillColor: "rgba(205, 236, 178, 1)",
      strokeColor: "#008000",
      strokeWidth: 2,
    }
  );
  map.geoObjects.add(parkPolygon3);

  const paths = [
    [
      [43.11839, 131.921477],
      [43.11839, 131.921425],
      [43.118391, 131.921403],
      [43.118389, 131.921376],
      [43.118373, 131.921333],
    ],
    [
      [43.118373, 131.921333],
      [43.118356, 131.921336],
      [43.118338, 131.921328],
      [43.118284, 131.921268],
    ],
    [
      [43.118284, 131.921268],
      [43.11828, 131.921315],
      [43.118273, 131.921351],
      [43.118266, 131.921391],
      [43.118252, 131.921412],
      [43.118238, 131.921422],
      [43.11822, 131.921422],
      [43.118202, 131.921412],
      [43.11818, 131.921366],
      [43.118186, 131.921342],
      [43.118196, 131.921324],
      [43.118217, 131.921307],
      [43.118236, 131.921308],
      [43.118236, 131.921308],
      [43.118253, 131.92132],
      [43.118273, 131.921351],
    ],
    [
      [43.11818, 131.921366],
      [43.11817, 131.921351],
      [43.118125, 131.921312],
      [43.118112, 131.92129],
      [43.118104, 131.921263],
      [43.118101, 131.921226],
      [43.118102, 131.921193],
      [43.118115, 131.92112],
      [43.118172, 131.92103],
      [43.118196, 131.92098],
      [43.118215, 131.920963],
      [43.118231, 131.920962],
      [43.118245, 131.920965],
      [43.118258, 131.920977],
      [43.118271, 131.921006],
      [43.1183, 131.921116],
      [43.118305, 131.92116],
      [43.118301, 131.921184],
      [43.118287, 131.921231],
      [43.118284, 131.921248],
      [43.118284, 131.921268],
    ],
    [
      [43.118373, 131.921333],
      [43.118384, 131.921308],
      [43.118388, 131.921237],
      [43.118384, 131.921161],
      [43.118376, 131.92112],
      [43.118335, 131.920996],
      [43.118314, 131.920949],
      [43.118283, 131.920908],
      [43.118265, 131.920891],
      [43.118238, 131.920878],
      [43.118203, 131.920885],
      [43.118158, 131.920982],
      [43.118135, 131.921014],
      [43.118107, 131.921038],
      [43.118053, 131.921061],
      [43.118032, 131.921087],
      [43.118027, 131.921123],
      [43.118027, 131.921164],
      [43.118064, 131.921315],
      [43.11806, 131.921411],
      [43.118062, 131.921476],
      [43.118177, 131.921496],
      [43.118241, 131.921498],
      [43.118322, 131.92149],
      [43.11839, 131.921477],
    ],
    [
      [43.118283, 131.920908],
      [43.118273, 131.920828],
      [43.118258, 131.92078],
      [43.118242, 131.920768],
      [43.118226, 131.920772],
      [43.118215, 131.920786],
      [43.118205, 131.920807],
      [43.118203, 131.920885],
    ],
    [
      [43.118238, 131.920878],
      [43.118223, 131.920803],
      [43.118215, 131.920786],
      [43.118203, 131.920759],
      [43.118193, 131.920734],
      [43.11819, 131.920718],
      [43.118191, 131.920694],
      [43.118209, 131.920658],
      [43.118225, 131.920643],
      [43.118225, 131.920643],
      [43.118286, 131.920628],
    ],
    [
      [43.118203, 131.920759],
      [43.118176, 131.920796],
    ],
    [
      [43.11839, 131.921425],
      [43.118425, 131.921429],
      [43.118454, 131.921425],
      [43.118471, 131.921415],
      [43.118483, 131.921396],
      [43.118491, 131.921371],
      [43.118507, 131.921345],
      [43.11852, 131.92133],
    ],
    [
      [43.118062, 131.921476],
      [43.117876, 131.921442],
      [43.11785, 131.921434],
      [43.117819, 131.921388],
    ],
    [
      [43.11839, 131.921477],
      [43.118477, 131.921463],
      [43.118516, 131.921451],
      [43.118538, 131.921436],
      [43.118555, 131.921414],
    ],
    [
      [43.118594, 131.92151],
      [43.118513, 131.921549],
      [43.118398, 131.921588],
      [43.118348, 131.921593],
      [43.118203, 131.921588],
      [43.118183, 131.921592],
      [43.118138, 131.921633],
      [43.118071, 131.921679],
      [43.117977, 131.921691],
      [43.117893, 131.921875],
      [43.117856, 131.921952],
      [43.11784, 131.922015],
      [43.11784, 131.922029],
      [43.117841, 131.922049],
      [43.117846, 131.922087],
      [43.117865, 131.92214],
      [43.117997, 131.922343],
      [43.118082, 131.922484],
      [43.118101, 131.922529],
      [43.118114, 131.922599],
      [43.118123, 131.922628],
      [43.118149, 131.922687],
      [43.118182, 131.922748],
      [43.118263, 131.92285],
      [43.118297, 131.922874],
      [43.118335, 131.92288],
      [43.118367, 131.9229],
      [43.1184, 131.922954],
      [43.118425, 131.923019],
      [43.118456, 131.923052],
      [43.118472, 131.923058],
      [43.11852, 131.923109],
      [43.118528, 131.923148],
      [43.118534, 131.923156],
      [43.118546, 131.923156],
    ],
    [
      [43.118397, 131.921576],
      [43.118398, 131.921588],
      [43.118399, 131.921702],
      [43.118382, 131.921868],
      [43.118349, 131.921971],
      [43.118345, 131.922109],
      [43.11847, 131.922472],
      [43.118517, 131.922849],
      [43.118531, 131.923041],
      [43.118546, 131.923156],
      [43.118564, 131.923234],
      [43.118587, 131.923269],
      [43.118645, 131.923305],
      [43.118688, 131.92336],
      [43.118724, 131.923378],
    ],
    [
      [43.118382, 131.921868],
      [43.11832, 131.921844],
    ],
    [
      [43.118349, 131.921971],
      [43.11832, 131.921844],
      [43.118182, 131.921673],
      [43.118138, 131.921633],
      [43.118053, 131.92161],
      [43.117993, 131.921611],
      [43.11795, 131.921598],
      [43.117956, 131.92163],
      [43.117977, 131.921691],
      [43.117991, 131.921767],
      [43.117992, 131.92181],
      [43.117985, 131.921844],
      [43.117959, 131.921873],
      [43.117937, 131.921885],
      [43.117913, 131.921885],
      [43.117893, 131.921875],
    ],
    [
      [43.118054, 131.921573],
      [43.118053, 131.92161],
      [43.118071, 131.921679],
      [43.118056, 131.921862],
      [43.118047, 131.921905],
      [43.118035, 131.921945],
      [43.117981, 131.922108],
      [43.117976, 131.922144],
      [43.117975, 131.922186],
      [43.117984, 131.922272],
      [43.117997, 131.922343],
      [43.118002, 131.922412],
      [43.118, 131.922457],
      [43.118005, 131.922505],
      [43.11799, 131.922535],
      [43.117953, 131.922587],
      [43.11794, 131.922603],
    ],
    [
      [43.117953, 131.922587],
      [43.118023, 131.922664],
      [43.118051, 131.922614],
      [43.118055, 131.922604],
    ],
    [
      [43.117856, 131.921952],
      [43.117831, 131.921945],
      [43.117813, 131.921934],
      [43.117794, 131.921955],
      [43.117771, 131.921973],
    ],
    [
      [43.11784, 131.922029],
      [43.117815, 131.922004],
      [43.117771, 131.921973],
      [43.117766, 131.921971],
      [43.117731, 131.921965],
      [43.117695, 131.921939],
      [43.117606, 131.921893],
    ],
    [
      [43.118114, 131.922599],
      [43.118093, 131.922585],
      [43.11808, 131.92258],
      [43.118067, 131.922587],
      [43.118055, 131.922604],
      [43.11799, 131.922535],
      [43.11796, 131.922508],
      [43.117937, 131.922493],
      [43.117916, 131.922499],
      [43.117912, 131.922504],
      [43.117906, 131.922523],
      [43.117911, 131.922561],
      [43.117923, 131.922586],
      [43.11794, 131.922603],
      [43.117949, 131.922641],
      [43.118004, 131.92275],
      [43.118011, 131.922777],
      [43.118011, 131.922806],
      [43.118002, 131.922819],
      [43.117991, 131.922829],
      [43.117978, 131.922828],
      [43.117919, 131.922788],
      [43.117899, 131.922784],
      [43.117884, 131.922789],
      [43.117873, 131.9228],
      [43.117868, 131.922817],
      [43.117867, 131.922839],
      [43.117874, 131.922862],
      [43.11792, 131.922922],
      [43.118019, 131.923016],
      [43.118053, 131.923054],
      [43.118111, 131.923097],
      [43.118174, 131.92313],
      [43.118211, 131.92318],
      [43.118275, 131.923218],
      [43.118297, 131.923238],
      [43.118331, 131.923277],
      [43.118359, 131.923274],
      [43.118381, 131.923251],
      [43.11839, 131.923217],
      [43.118388, 131.923193],
      [43.11838, 131.923175],
      [43.118347, 131.923114],
      [43.11832, 131.923042],
      [43.11831, 131.923002],
      [43.118294, 131.922963],
      [43.118236, 131.922907],
      [43.118196, 131.922889],
      [43.118182, 131.922871],
      [43.118175, 131.922841],
      [43.118174, 131.922809],
      [43.118182, 131.922748],
    ],
    [
      [43.117985, 131.921844],
      [43.118036, 131.921943],
      [43.118122, 131.92219],
      [43.118226, 131.92243],
      [43.118312, 131.922604],
      [43.118353, 131.922684],
      [43.118393, 131.922804],
      [43.118414, 131.922868],
      [43.118474, 131.923008],
      [43.118488, 131.923031],
      [43.11851, 131.923042],
      [43.118531, 131.923041],
    ],
    [
      [43.118345, 131.922109],
      [43.118226, 131.92243],
      [43.118149, 131.922687],
      [43.11813, 131.922732],
      [43.118094, 131.922805],
      [43.118062, 131.922885],
      [43.118019, 131.923016],
      [43.118011, 131.923038],
      [43.117945, 131.923196],
      [43.11788, 131.923327],
      [43.117857, 131.923436],
      [43.11784, 131.923506],
      [43.117827, 131.923541],
      [43.117801, 131.923574],
      [43.117774, 131.923615],
      [43.117768, 131.923639],
      [43.117763, 131.923691],
      [43.117728, 131.923807],
      [43.117703, 131.923905],
      [43.117697, 131.923961],
      [43.117697, 131.924023],
      [43.117697, 131.924023],
      [43.117674, 131.924067],
      [43.117663, 131.924078],
      [43.11764, 131.924093],
      [43.117613, 131.9241],
      [43.117582, 131.924097],
    ],
    [
      [43.118312, 131.922604],
      [43.118308, 131.922645],
      [43.118326, 131.922703],
      [43.118369, 131.922798],
      [43.118393, 131.922804],
    ],
    [
      [43.118474, 131.923008],
      [43.118487, 131.92298],
      [43.118492, 131.922961],
      [43.118483, 131.92293],
      [43.118483, 131.92293],
      [43.118485, 131.922866],
      [43.118484, 131.922845],
      [43.118472, 131.922816],
      [43.118455, 131.922791],
    ],
    [
      [43.118488, 131.923031],
      [43.118472, 131.923058],
    ],
    [
      [43.118381, 131.923251],
      [43.118388, 131.923258],
      [43.118399, 131.923262],
      [43.118399, 131.923262],
      [43.118399, 131.923262],
      [43.118526, 131.923246],
      [43.118564, 131.923234],
    ],
    [
      [43.118053, 131.923054],
      [43.118051, 131.923106],
      [43.118064, 131.923163],
      [43.118081, 131.923215],
      [43.118084, 131.923242],
      [43.118078, 131.923268],
      [43.118069, 131.923282],
      [43.118055, 131.923284],
      [43.118038, 131.923277],
      [43.117993, 131.923227],
      [43.117945, 131.923196],
      [43.117891, 131.923161],
      [43.117862, 131.923135],
      [43.117828, 131.923121],
      [43.117815, 131.923121],
      [43.117805, 131.923128],
      [43.117799, 131.923138],
      [43.117798, 131.923157],
      [43.117808, 131.923188],
      [43.117805, 131.923203],
      [43.117781, 131.923224],
      [43.117777, 131.923245],
      [43.117807, 131.923315],
      [43.117821, 131.923411],
      [43.117828, 131.923422],
      [43.117857, 131.923436],
    ],
    [
      [43.117917, 131.921592],
      [43.117888, 131.921581],
      [43.117845, 131.9216],
      [43.117828, 131.921616],
      [43.117725, 131.921852],
    ],
    [
      [43.117782, 131.921908],
      [43.117725, 131.921852],
      [43.117713, 131.921853],
      [43.117699, 131.921859],
      [43.117676, 131.921882],
    ],
    [
      [43.117728, 131.923807],
      [43.117603, 131.923727],
      [43.117555, 131.923706],
      [43.11746, 131.923695],
      [43.117328, 131.923649],
      [43.117312, 131.923639],
      [43.117073, 131.923475],
      [43.117046, 131.923467],
      [43.117023, 131.923467],
      [43.117003, 131.923473],
      [43.116942, 131.923526],
      [43.116924, 131.923534],
      [43.116912, 131.923535],
      [43.116828, 131.923537],
      [43.116789, 131.923545],
      [43.116742, 131.923566],
      [43.116715, 131.923585],
      [43.116674, 131.923627],
      [43.116655, 131.923666],
      [43.116652, 131.923686],
      [43.116652, 131.923706],
      [43.116656, 131.923753],
      [43.116656, 131.923753],
      [43.116692, 131.923871],
      [43.116707, 131.923944],
      [43.116721, 131.923974],
      [43.116729, 131.923988],
      [43.116745, 131.924],
      [43.11676, 131.923996],
      [43.116767, 131.923983],
      [43.116774, 131.923964],
      [43.116777, 131.923922],
      [43.116781, 131.923836],
      [43.116792, 131.923804],
      [43.11679, 131.923779],
      [43.11679, 131.923779],
      [43.1168, 131.92375],
      [43.116861, 131.923701],
      [43.116885, 131.923696],
      [43.116885, 131.923696],
      [43.116916, 131.923726],
      [43.11692, 131.923744],
      [43.116916, 131.923765],
      [43.116886, 131.923805],
      [43.116879, 131.923828],
      [43.116879, 131.923842],
      [43.116885, 131.923857],
      [43.116893, 131.923867],
      [43.116907, 131.923875],
      [43.116915, 131.923877],
      [43.116933, 131.923879],
      [43.11699, 131.923862],
      [43.117013, 131.923865],
      [43.117033, 131.923889],
      [43.117062, 131.923948],
      [43.117077, 131.923974],
      [43.117124, 131.92403],
      [43.11722, 131.924095],
      [43.11727, 131.924142],
      [43.117303, 131.924198],
      [43.117308, 131.924242],
      [43.117309, 131.924307],
      [43.117297, 131.924362],
      [43.117268, 131.92439],
      [43.117247, 131.924399],
      [43.117235, 131.924404],
      [43.117212, 131.924389],
      [43.117111, 131.924266],
      [43.117086, 131.924243],
      [43.117027, 131.924158],
      [43.116986, 131.924077],
      [43.116987, 131.924039],
      [43.117005, 131.923985],
      [43.117062, 131.923948],
    ],
    [
      [43.117312, 131.923639],
      [43.117316, 131.923664],
      [43.117329, 131.923693],
      [43.117341, 131.923725],
      [43.117335, 131.923815],
      [43.117342, 131.923862],
      [43.117352, 131.923883],
      [43.117369, 131.923902],
      [43.117385, 131.923908],
      [43.117397, 131.923905],
      [43.117407, 131.923886],
      [43.117412, 131.923862],
      [43.117415, 131.923813],
      [43.117424, 131.923779],
      [43.117435, 131.92376],
      [43.117447, 131.923749],
      [43.117468, 131.923743],
      [43.117481, 131.923749],
      [43.117495, 131.923767],
      [43.117495, 131.923767],
      [43.11752, 131.923831],
      [43.117529, 131.923859],
      [43.117535, 131.923885],
      [43.11754, 131.923968],
      [43.117544, 131.923981],
      [43.117552, 131.923988],
      [43.117573, 131.924045],
      [43.11758, 131.924074],
      [43.117582, 131.924097],
      [43.117577, 131.924116],
      [43.11756, 131.924167],
      [43.117556, 131.924202],
      [43.117563, 131.924231],
      [43.117594, 131.924318],
      [43.117601, 131.924345],
      [43.117604, 131.924371],
      [43.117602, 131.924401],
      [43.117595, 131.924436],
      [43.117583, 131.924466],
      [43.117532, 131.924579],
      [43.11751, 131.924611],
      [43.117494, 131.924625],
      [43.117475, 131.924623],
      [43.117466, 131.924613],
      [43.117457, 131.924592],
      [43.117449, 131.924547],
      [43.117446, 131.924415],
      [43.117438, 131.924397],
      [43.117423, 131.92438],
      [43.117397, 131.924364],
      [43.117381, 131.924368],
      [43.117373, 131.924381],
      [43.117365, 131.924397],
      [43.117341, 131.924559],
      [43.117341, 131.924559],
      [43.117323, 131.924587],
      [43.117266, 131.92461],
      [43.117187, 131.924636],
      [43.117173, 131.924633],
      [43.117161, 131.92462],
      [43.117162, 131.924579],
      [43.117227, 131.924472],
      [43.117236, 131.924451],
      [43.117247, 131.924399],
      [43.117272, 131.924462],
      [43.117278, 131.924502],
      [43.117266, 131.92461],
    ],
    [
      [43.11729, 131.923777],
      [43.117335, 131.923815],
      [43.117373, 131.923828],
      [43.117388, 131.923828],
      [43.117415, 131.923813],
      [43.117428, 131.923799],
      [43.117445, 131.92379],
      [43.117462, 131.923795],
      [43.117486, 131.923817],
      [43.117508, 131.923826],
      [43.11752, 131.923831],
      [43.11755, 131.923841],
      [43.11757, 131.923859],
      [43.117592, 131.923897],
      [43.117611, 131.923943],
      [43.117621, 131.92398],
      [43.117632, 131.924017],
      [43.117639, 131.924031],
      [43.117674, 131.924067],
      [43.117696, 131.924104],
      [43.117707, 131.924139],
      [43.117712, 131.924167],
      [43.117716, 131.924228],
      [43.117723, 131.924245],
      [43.117753, 131.924278],
      [43.117764, 131.9243],
      [43.11778, 131.924366],
    ],
    [
      [43.117552, 131.923988],
      [43.117578, 131.923991],
      [43.117621, 131.92398],
    ],
    [
      [43.117611, 131.923943],
      [43.117621, 131.923933],
      [43.117626, 131.923925],
      [43.117633, 131.923885],
      [43.117629, 131.923842],
      [43.117617, 131.923778],
      [43.117603, 131.923732],
    ],
    [
      [43.117212, 131.924389],
      [43.117196, 131.924406],
      [43.117166, 131.924421],
      [43.117148, 131.924423],
      [43.117132, 131.924422],
      [43.117117, 131.924417],
      [43.117103, 131.924404],
      [43.117093, 131.924388],
      [43.117086, 131.924364],
      [43.11708, 131.924319],
      [43.117086, 131.924243],
    ],
    [
      [43.117111, 131.924266],
      [43.117118, 131.924215],
      [43.117116, 131.924069],
      [43.117124, 131.92403],
    ],
    [
      [43.116792, 131.923804],
      [43.116816, 131.92381],
      [43.116831, 131.923824],
      [43.116835, 131.92383],
      [43.116858, 131.923932],
      [43.116866, 131.923948],
      [43.11688, 131.923962],
      [43.1169, 131.923961],
      [43.116941, 131.923947],
      [43.116963, 131.923947],
      [43.116976, 131.923954],
      [43.117005, 131.923985],
    ],
    [
      [43.1169, 131.923961],
      [43.116896, 131.923951],
      [43.116891, 131.923923],
      [43.116907, 131.923875],
    ],
    [
      [43.117046, 131.923467],
      [43.11705, 131.92345],
      [43.117045, 131.923434],
      [43.117029, 131.923414],
      [43.117005, 131.923407],
      [43.11697, 131.923416],
      [43.11695, 131.923435],
      [43.116937, 131.92346],
      [43.116907, 131.923486],
      [43.116905, 131.923516],
      [43.116912, 131.923535],
    ],
    [
      [43.116865, 131.923535],
      [43.116858, 131.923496],
      [43.116834, 131.923447],
      [43.116816, 131.923385],
      [43.116804, 131.923368],
      [43.116785, 131.92336],
      [43.116739, 131.923359],
      [43.116668, 131.923346],
      [43.116639, 131.923351],
      [43.11658, 131.923407],
      [43.116561, 131.923434],
      [43.116548, 131.923467],
      [43.116546, 131.923495],
      [43.116548, 131.923505],
      [43.116585, 131.923645],
      [43.1166, 131.923678],
      [43.11663, 131.923706],
      [43.116645, 131.923708],
      [43.116652, 131.923706],
    ],
  ];

  paths.forEach((coords) => {
    const line = new ymaps.Polyline(
      coords,
      {},
      {
        strokeColor: "rgba(0,0,0,0.4)",
        strokeWidth: 4,
        strokeOpacity: 1,
      }
    );
    map.geoObjects.add(line);
  });

  const kafeCoords = [
    [43.118482, 131.922037],
    [43.118418, 131.922037],
    [43.118421, 131.921826],
    [43.118483, 131.921829],
  ];
  const kafePolygon = new ymaps.Polygon(
    [kafeCoords],
    {},
    {
      fillColor: "rgba(255,0,0,0.6)",
      strokeColor: "#FF0000",
      strokeWidth: 2,
    }
  );
  const lakeCoords = [
    [43.11836, 131.921635],
    [43.118251, 131.921661],
    [43.118252, 131.921689],
    [43.118292, 131.921737],
    [43.118334, 131.921767],
    [43.118354, 131.921748],
    [43.118363, 131.921642],
  ];
  const lakePolygon = new ymaps.Polygon(
    [lakeCoords],
    {},
    {
      fillColor: "rgba(0,191,255,0.6)",
      strokeColor: "#ffffff",
      strokeWidth: 0,
    }
  );
  map.geoObjects.add(kafePolygon);
  map.geoObjects.add(lakePolygon);

  const places = [
    {
      coords: [43.118498, 131.921068],
      name: "Центральный вход",
      iconUrl: "https://cdn-icons-png.flaticon.com/512/684/684908.png",
      img: "https://irecommend.ru/sites/default/files/imagecache/copyright1/user-images/780059/MKC8MtpNa6lublq39RrdA.jpg",
      desc: "Главный вход в парк.",
    },
    {
      coords: [43.118168, 131.92122],
      name: "Детская площадка",
      iconUrl: "https://cdn-icons-png.flaticon.com/512/248/248635.png",
      img: "https://avatars.mds.yandex.net/get-altay/5459048/2a0000017c83581717147f49babf826836f8/L_height",
      desc: "Песочницы и качели для детей.",
    },
    {
      coords: [43.11785, 131.921685],
      name: "Фудкорт",
      iconUrl: "https://cdn-icons-png.flaticon.com/512/17795/17795825.png",
      img: "https://static.vl.ru/catalog/1752117265283_big_vlru.jpg",
      desc: "Много вкусной еды.",
    },
    {
      coords: [43.118417, 131.921997],
      name: "Туалет",
      iconUrl: "https://cdn-icons-png.flaticon.com/512/75/75310.png",
      img: "https://static.vl.ru/catalog/1649979218792_big_vlru.jpg",
      desc: "Общественные туалеты.",
    },
    {
      coords: [43.118421, 131.921866],
      name: "Кофейня",
      iconUrl: "https://cdn-icons-png.flaticon.com/512/1223/1223231.png",
      img: "https://n1s1.hsmedia.ru/8c/46/03/8c460364e999190c313d38975fb7edb3/3402x2268_0xusE7flG1_6695509493297327961.jpg",
      desc: "Кофе и десерты.",
    },
    {
      coords: [43.117971, 131.922594],
      name: "Кинотеатр и малая сцена",
      iconUrl: "img/cinema.png",
      img: "https://mrg-online.ru/wp-content/uploads/2022/11/%D0%9F%D0%BB%D0%BE%D1%89%D0%B0%D0%B4%D0%BA%D0%B0-1.jpg",
      desc: "Малая открытая сцена для мероприятий.",
    },
    {
      coords: [43.118285, 131.921688],
      name: "Озеро",
      iconUrl: "img/lake.png",
      img: "https://static.vl.ru/catalog/1649979216672_big_vlru.jpg",
      desc: "Озеро с черепашками.",
    },

    {
      coords: [43.1163, 131.922892],
      name: "Лесная сцена",
      iconUrl: "img/stage.png",
      img: "https://static.vl.ru/catalog/1750805789694_big_vlru.jpg",
      desc: "Большая сцена для мероприятий.",
    },
    {
      coords: [43.117066, 131.923375],
      name: "Нагорная кофейня",
      iconUrl: "img/coffee-cup.png",
      img: "https://static.vl.ru/catalog/1750805789694_big_vlru.jpg",
      desc: "Вкусные горячие напитки.",
    },
    {
      coords: [43.116656, 131.923413],
      name: "Смотровая площадка",
      iconUrl: "img/binoculars.png",
      img: "https://s10.stc.yc.kpcdn.net/share/i/12/12691704/wr-960.webp",
      desc: "Красивый вид на город.",
    },
    {
      coords: [43.117037, 131.923954],
      name: "Смотровая площадка",
      iconUrl: "img/binoculars.png",
      img: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTdJz1SjjY_WMrn3jE1aN1AI9BzIHUDQZ3PvEt49-XwZQJXwbHZN8xisdmjtz1fB0E8LV8&usqp=CAU",
      desc: "Красивый вид на город.",
    },
    {
      coords: [43.117057, 131.925041],
      name: "Смотровая площадка",
      iconUrl: "img/binoculars.png",
      img: "https://ic.pics.livejournal.com/ivannovikov/20208892/4273344/4273344_original.jpg",
      desc: "Красивый вид на город.",
    },
    {
      coords: [43.11709, 131.925393],
      name: "Фудкорт",
      iconUrl: "https://cdn-icons-png.flaticon.com/512/17795/17795825.png",
      img: "https://static.vl.ru/catalog/1752117265283_big_vlru.jpg",
      desc: "Много вкусной еды.",
    },
    {
      coords: [43.117118, 131.924383],
      name: "Смотровая площадка",
      iconUrl: "img/binoculars.png",
      img: "https://ic.pics.livejournal.com/ivannovikov/20208892/4273344/4273344_original.jpg",
      desc: "Красивый вид на город.",
    }, 
    {
      coords: [43.11754, 131.923933],
      name: "Грот",
      iconUrl: "img/mountain-formation.png",
      img: "https://s09.stc.yc.kpcdn.net/share/i/4/2451972/wr-750.webp",
      desc: "Арт объект.",
    },
    {
      coords: [43.116376, 131.923294],
      name: "Парящий мост",
      iconUrl: "img/bridges.png",
      img: "https://static.vl.ru/news/1732813089746_default",
      desc: "Красивый вид на город.",
    },
  ];

  const placesList = document.getElementById("placesList");
  const infoFrame = document.getElementById("infoFrame");
  const menuList = document.getElementById("menuList");
  const infoTitle = document.getElementById("infoTitle");
  const infoImg = document.getElementById("infoImg");
  const infoDesc = document.getElementById("infoDesc");
  const backBtn = document.getElementById("backBtn");

  const offcanvasElement = document.getElementById("offcanvasSidebar");
  const offcanvas = bootstrap.Offcanvas.getOrCreateInstance(offcanvasElement);

  places.forEach((place) => {
    const placemark = new ymaps.Placemark(
      place.coords,
      {
        balloonContentHeader: place.name,
        balloonContentBody: `<img class="popup-img"><p>${place.desc}</p>`,
      },
      {
        iconLayout: "default#image",
        iconImageHref: place.iconUrl,
        iconImageSize: [32, 32],
        iconImageOffset: [-16, -32],
        balloonOffset: [0, -32],
        balloonAutoPan: true,
        hideIconOnBalloonOpen: false,
      }
    );
  });

  backBtn.onclick = () => {
    infoFrame.style.display = "none";
    menuList.style.display = "block";
  };

  const mapOffcanvas = document.getElementById("offcanvasSidebar");
  const baseOfOffcanvas = new bootstrap.Offcanvas(mapOffcanvas);

  places.forEach((place) => {
    const placemark = new ymaps.Placemark(
      place.coords,
      {
        balloonContentHeader: place.name,
        balloonContentBody: `<img class="popup-img"><p>${place.desc}</p>`,
      },
      {
        iconLayout: "default#image",
        iconImageHref: place.iconUrl,
        iconImageSize: [32, 32],
        iconImageOffset: [-16, -32],
        balloonOffset: [0, -32],
        balloonAutoPan: true,
        hideIconOnBalloonOpen: false,
      }
    );

    const item = document.createElement("div");
    item.className = "place-item";
    item.innerHTML = `<img class="place-icon" src="${place.iconUrl}"> ${place.name}`;
    item.onclick = () => {
      map.setCenter(place.coords, 19, { duration: 500 });
      placemark.balloon.open();

      // сворачиваем offcanvas до 50vh
      const startY = window.innerHeight * 0.5; // 50vh
      const lastTranslateY = startY; // обновляем переменную в drag-сценарии
      mapOffcanvas.style.transition = "transform 0.1s ease";
      mapOffcanvas.style.transform = `translateY(${lastTranslateY}px)`;

      menuList.style.display = "none";
      infoFrame.style.display = "block";
      infoTitle.textContent = place.name;
      infoImg.src = place.img;
      infoDesc.textContent = place.desc;
      // offcanvas.hide();
    };
    placesList.appendChild(item);
    map.geoObjects.add(placemark);
  });
  baseOfOffcanvas.show();

  map.copyrights.add("© Plyusnina Anastasia");
}
